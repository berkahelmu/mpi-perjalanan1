var namoExportNavData={
    data:"",
    cursorsX:{start:0,end:0},
    cursorsY:{start:0,end:0},
    time:{start:0,end:0},
    twofinger:!1
};
!function(a){
    var t={},
    o=function(){
        return navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)
    },
    e={
        init:function(a){
            var n=this;
            if(namoExportNavData.data=a,$("<button>").attr({type:"button",id:"namoExportNavHomeBtn"})
            .css({
                position:"absolute",
                top:"20px",
                left:"50%",
                "z-index":"99",
                cursor:"pointer",
                border:"0px",
                "margin-left":"-32px",
                "background-color":"transparent",
                "background-image":"url('"+a.resources.home+"')",
                "background-repeat":"no-repeat",
                width:"64px",
                height:"64px"
            }).appendTo("body"),!o()){
                var r=$("body"),
                s=$('<button class="namo-nav"/>').css({left:r.outerWidth()-44}).addClass("btn-next"),
                c=$('<button class="namo-nav"/>').css({left:0}).addClass("btn-prev"),
                d=$("#namoExportNavHomeBtn").css({top:-150,left:r.width()/2}).addClass("nav-pc");
                r.append(c).append(s),r.find(".namo-nav").css({top:.3*r.height(),height:.4*r.height()}),
                "0"!=namoExportNavData.data.currentPage?d.css("display","block"):(d.css("display","none"),c.addClass("disabled")),
                namoExportNavData.data.currentPage!=namoExportNavData.data.list.length-1||s.addClass("disabled");
                var u=.8,
                i=function(a){
                    t.x=a.clientX,
                    t.y=a.clientY,
                    t.x>r.width()*u?s.addClass("show"):s.removeClass("show"),
                    t.x<r.width()*(1-u)?c.addClass("show"):c.removeClass("show"),
                    t.y<r.height()*(1-.9)&&"0"!=namoExportNavData.data.currentPage?d.addClass("show").css({top:10,opacity:.5}):d.removeClass("show").css({top:-150,opacity:.1})
                };
                r.on("mousemove",i).on("mouseover",i),
                s.on("click",function(){e.next()}),
                c.on("click",function(){e.prev()})
            }
            n.setEvent()
        },
        setEvent:function(){
            var a=this;
            $("#namoExportNavHomeBtn").bind("click",function(){
                a.home()
            }).hide(),
            document.addEventListener("touchstart",a.touchHandler),
            document.addEventListener("touchmove",a.touchHandler),
            document.addEventListener("touchend",a.touchHandler),
            document.addEventListener("touchcancel",a.touchHandler),
            document.addEventListener("mousedown",a.touchHandler),
            document.addEventListener("mousemove",a.touchHandler),
            document.addEventListener("mouseup",a.touchHandler),
            $(document).on("dragstart",function(a){return a.preventDefault(),!1})
        },
        touchHandler:function(a){
            switch(a.type){
                case"touchstart":
                case"mousedown":
                    namoExportNavData.time.start=a.timeStamp,
                    namoExportNavData.cursorsX.start=a.clientX?a.clientX:null,
                    namoExportNavData.cursorsY.start=a.clientY?a.clientY:null,
                    namoExportNavData.cursorsX.start=null==namoExportNavData.cursorsX.start&&null!=a.changedTouches?a.changedTouches[0].clientX:namoExportNavData.cursorsX.start,
                    namoExportNavData.cursorsY.start=null==namoExportNavData.cursorsY.start&&null!=a.changedTouches?a.changedTouches[0].clientY:namoExportNavData.cursorsY.start;
                    var t=null!=a.touches?a.touches.length:1;
                    namoExportNavData.twofinger=t>1;
                    break;
                case"touchmove":
                case"mousemove":
                    break;
                case"touchend":
                case"mouseup":
                case"touchcancel":
                    if(namoExportNavData.twofinger)
                        return;
                    namoExportNavData.time.end=a.timeStamp,
                    namoExportNavData.cursorsX.end=a.clientX?a.clientX:null,
                    namoExportNavData.cursorsY.end=a.clientY?a.clientY:null,
                    namoExportNavData.cursorsX.end=null==namoExportNavData.cursorsX.end&&null!=a.changedTouches?a.changedTouches[0].clientX:namoExportNavData.cursorsX.end,
                    namoExportNavData.cursorsY.end=null==namoExportNavData.cursorsY.end&&null!=a.changedTouches?a.changedTouches[0].clientY:namoExportNavData.cursorsY.end;
                    var t=null!=a.touches?a.touches.length:1,
                    n=namoExportNavData.cursorsX.start-namoExportNavData.cursorsX.end,
                    r=namoExportNavData.cursorsY.start-namoExportNavData.cursorsY.end,
                    s=namoExportNavData.time.end-namoExportNavData.time.start,
                    c=50;500>s&&2>t&&(e.checkEvent(a)&&-c>r&&"0"!=namoExportNavData.data.currentPage&&o()&&($("#namoExportNavHomeBtn").show(),
                    setTimeout(function(){
                        $("#namoExportNavHomeBtn").fadeOut(300,function(){$(this).hide()})
                    },1e3)),
                    e.checkEvent(a)&&(n>c?e.next():-c>n&&e.prev()))}},
                    checkEvent:function(a){
                        var t=!0,o=$(a.target).get(0).tagName.toLowerCase();
                        return"video"!=o&&"audio"!=o||(t=!1),0!=$(a.target).parents(".nw_widget").size()&&(t=!1),
                            ("body"!=o&&$(a.target).get(0).scrollHeight>$(a.target).get(0).offsetHeight||"body"!=o&&$(a.target).get(0).scrollWidth>$(a.target).get(0).offsetWidth)&&(t=!1),t
                    },
                    home:function(){
                        self.location=namoExportNavData.data.list[0]
                    },
                    next:function(){
                        namoExportNavData.data.currentPage!=namoExportNavData.data.list.length-1
                            &&(self.location=namoExportNavData.data.list[parseInt(namoExportNavData.data.currentPage)+1])
                    },
                    prev:function(){
                        "0"!=namoExportNavData.data.currentPage&&(self.location=namoExportNavData.data.list[parseInt(namoExportNavData.data.currentPage)-1])
                    }
                };
        a.namoExportNav=e
}
(window);